/*
* ! @copyright@
*/
sap.ui.define(["sap/ui/base/Object","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/CustomListItem","sap/m/Label"],function(O,F,a,C,L){var M=O.extend("sap.collaboration.components.feed.Mode",{constructor:function(f,m){this._oFeedController=f;this._oViewDataModel=this._oFeedController.getModel();this._oJamModel=this._oFeedController.getModel("jam");this._oGroupSelectPopover=sap.ui.xmlfragment("sap.collaboration.components.feed.fragments.GroupSelector");this._oList=this._oGroupSelectPopover.getContent()[1];this._oList.attachSelectionChange(this.onGroupSelected,this);this._oList.attachUpdateStarted(this.onGroupSelectorUpdateStarted,this);this._oList.attachUpdateFinished(this.onGroupSelectorUpdateFinished,this);this._oList.setModel(this._oFeedController.getModel(m));this._oSearchField=this._oGroupSelectPopover.getContent()[0];this._oSearchField.attachLiveChange(this.onGroupSearch,this);this._oLabel=new L({text:"{Name}"}).addStyleClass("sapUiTinyMarginBeginEnd").addStyleClass("sapUiTinyMarginTopBottom");this._oItemTemplate=new C({content:this._oLabel});}});M.prototype.getFeedEntries=function(u,s){var t=this;var l=jQuery.Deferred();var p=u;var P={"urlParameters":{"$expand":"Creator,TargetObjectReference"},"success":function(d,r){t._oNextLinks.feedEntriesNextLink=d.__next;l.resolveWith(t,[d,r]);},"error":function(e){l.rejectWith(t,[e]);}};if(s){P.urlParameters.$skiptoken=s;}return l.promise(this._oJamModel.read(p,P));};M.prototype.addPost=function(c,p){var b=jQuery.Deferred();var d={"Text":c};var P={"success":function(D,r){b.resolve(D,r);},"error":function(e){b.reject(e);}};return{"path":p,"payload":d,"promise":b.promise(this._oJamModel.create(p,d,P))};};return M;},true);
