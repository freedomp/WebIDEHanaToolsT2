define("tinymce/imagetoolsplugin/ImageTools",["tinymce/imagetoolsplugin/Conversions","tinymce/imagetoolsplugin/Canvas","tinymce/imagetoolsplugin/ImageSize"],function(C,a,I){var r=C.revokeImageUrl;function b(e,g){return C.blobToImage(e).then(function(i){var h=a.create(I.getWidth(i),I.getHeight(i)),j=a.get2dContext(h),t=0,k=0;g=g<0?360+g:g;if(g==90||g==270){a.resize(h,h.height,h.width);}if(g==90||g==180){t=h.width;}if(g==270||g==180){k=h.height;}j.translate(t,k);j.rotate(g*Math.PI/180);j.drawImage(i,0,0);r(i);return C.canvasToBlob(h,e.type);});}function f(e,g){return C.blobToImage(e).then(function(i){var h=a.create(I.getWidth(i),I.getHeight(i)),j=a.get2dContext(h);if(g=='v'){j.scale(1,-1);j.drawImage(i,0,-h.height);}else{j.scale(-1,1);j.drawImage(i,-h.width,0);}r(i);return C.canvasToBlob(h);});}function c(e,x,y,w,h){return C.blobToImage(e).then(function(i){var g=a.create(w,h),j=a.get2dContext(g);j.drawImage(i,-x,-y);r(i);return C.canvasToBlob(g);});}function d(e,w,h){return C.blobToImage(e).then(function(i){var g=a.create(w,h),j=a.get2dContext(g);j.drawImage(i,0,0,w,h);r(i);return C.canvasToBlob(g,e.type);});}return{rotate:b,flip:f,crop:c,resize:d};});
