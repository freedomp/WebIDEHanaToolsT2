tinymce.PluginManager.add('fullscreen',function(a){var f=false,D=tinymce.DOM,i,b,r;var c,d;if(a.settings.inline){return;}function g(){var w,h,e=window,j=document;var k=j.body;if(k.offsetWidth){w=k.offsetWidth;h=k.offsetHeight;}if(e.innerWidth&&e.innerHeight){w=e.innerWidth;h=e.innerHeight;}return{w:w,h:h};}function t(){var e=document.body,h=document.documentElement,j;var k,l,m;function n(){D.setStyle(l,'height',g().h-(k.clientHeight-l.clientHeight));}f=!f;k=a.getContainer();j=k.style;l=a.getContentAreaContainer().firstChild;m=l.style;if(f){i=m.width;b=m.height;m.width=m.height='100%';c=j.width;d=j.height;j.width=j.height='';D.addClass(e,'mce-fullscreen');D.addClass(h,'mce-fullscreen');D.addClass(k,'mce-fullscreen');D.bind(window,'resize',n);n();r=n;}else{m.width=i;m.height=b;if(c){j.width=c;}if(d){j.height=d;}D.removeClass(e,'mce-fullscreen');D.removeClass(h,'mce-fullscreen');D.removeClass(k,'mce-fullscreen');D.unbind(window,'resize',r);}a.fire('FullscreenStateChanged',{state:f});}a.on('init',function(){a.addShortcut('Meta+Alt+F','',t);});a.on('remove',function(){if(r){D.unbind(window,'resize',r);}});a.addCommand('mceFullScreen',t);a.addMenuItem('fullscreen',{text:'Fullscreen',shortcut:'Meta+Alt+F',selectable:true,onClick:t,onPostRender:function(){var s=this;a.on('FullscreenStateChanged',function(e){s.active(e.state);});},context:'view'});a.addButton('fullscreen',{tooltip:'Fullscreen',shortcut:'Meta+Alt+F',onClick:t,onPostRender:function(){var s=this;a.on('FullscreenStateChanged',function(e){s.active(e.state);});}});return{isFullscreen:function(){return f;}};});
