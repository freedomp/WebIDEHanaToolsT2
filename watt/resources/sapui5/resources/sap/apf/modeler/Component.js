/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP SE. All rights reserved
 */
(function(){'use strict';jQuery.sap.declare("sap.apf.modeler.Component");jQuery.sap.require("sap.ui.core.UIComponent");jQuery.sap.require("sap.apf.modeler.core.instance");jQuery.sap.require("sap.m.routing.RouteMatchedHandler");jQuery.sap.require('sap.apf.modeler.ui.utils.APFRouter');jQuery.sap.require('sap.apf.modeler.ui.utils.constants');jQuery.sap.require('sap.apf.modeler.ui.utils.APFTree');jQuery.sap.require('sap.apf.core.layeredRepositoryProxy');sap.ui.core.UIComponent.extend("sap.apf.modeler.Component",{oCoreApi:null,metadata:{manifest:"json"},init:function(){var p;var u=false;var s;if(this.initHasAlreadyBeenCalled){return;}this.initHasAlreadyBeenCalled=true;var m=jQuery.extend({},true,this.getMetadata().getManifest());if(m["sap.apf"]&&m["sap.apf"].activateLrep){u=m["sap.apf"].activateLrep;}if(jQuery.sap.getUriParameters().get('sap-apf-activate-lrep')){u=true;}else{s=this.getComponentData&&this.getComponentData()&&this.getComponentData().startupParameters;if(s&&s['sap-apf-activate-lrep']){u=s['sap-apf-activate-lrep'][0];}}if(m["sap.app"].dataSources&&m["sap.app"].dataSources.AnalyticalConfigurationServiceRoot){p=m["sap.app"].dataSources.AnalyticalConfigurationServiceRoot.uri;}else{p=sap.apf.core.constants.modelerPersistenceServiceRoot;}var a={serviceRoot:p,useLayeredRepositoryForAnalyticalConfiguration:u};var i={instances:{component:this}};if(u){i.constructor={persistenceProxy:sap.apf.core.LayeredRepositoryProxy}}this.oCoreApi=new sap.apf.modeler.core.Instance(a,i);var b=this.oCoreApi.getUriGenerator().getApfLocation();jQuery.sap.includeStyleSheet(b+"modeler/resources/css/configModeler.css","configModelerCss");sap.ui.core.UIComponent.prototype.init.apply(this,arguments);var r=this.getRouter();this.oRouteHandler=new sap.m.routing.RouteMatchedHandler(r);r.initialize();},createContent:function(){if(a===undefined){var a=sap.ui.view({viewName:"sap.apf.modeler.ui.view.applicationList",type:"XML",viewData:this.oCoreApi});}var b=this.oCoreApi.getUriGenerator().getApfLocation();return a;}});}());
