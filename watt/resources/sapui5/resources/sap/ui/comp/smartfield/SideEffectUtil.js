/*
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2015 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/ui/comp/odata/SideEffects"],function(q,S){"use strict";var a=function(p){this._oParent=p;this._oSideEffects=new S();};a.prototype.getFieldGroupID=function(m,v){var M,c,t,s;if(m.property.complex){c=m.property.parents[0];t=this._toTypePath(m.path,c);}M={entitySet:m.entitySet,entityType:m.entityType,complexType:c};s=this._oSideEffects.getSideEffects(m.path,t,M);return this._calcFieldGroup(s,m,v);};a.prototype._calcFieldGroup=function(s,m,v){var c,u,i,I,o=this._getSideEffect(s,m);if(o.sideEffect){c=this._oParent.getBindingContext();I={name:o.sideEffect.name,originType:o.sideEffect.originType,originName:o.origin.name,context:c.getPath()};i=JSON.stringify(I);u=v.data(i);if(!u){u=this.createUUID();v.data(u,I);v.data(i,u);}return u;}return null;};a.prototype._getSideEffect=function(s,m){var r={};r.sideEffect=this._getSideEffectFromEntity("entitySet",s);if(r.sideEffect){r.origin=m.entitySet;}if(!r.sideEffect){r.sideEffect=this._getSideEffectFromEntity("entityType",s);if(r.sideEffect){r.origin=m.entityType;}}if(!r.sideEffect){r.sideEffect=this._getSideEffectFromEntity("complexType",s);if(r.sideEffect){r.origin=m.property.parents[0];}}return r;};a.prototype._getSideEffectFromEntity=function(N,s){var n;if(s[N]){for(n in s[N]){return{name:n,originType:N,sideEffect:s[N][n]};}}};a.prototype._toTypePath=function(p,c){var P=p.split("/");return p.replace(P[0],c.name);};a.prototype.createUUID=function(){var d=new Date().getTime();var u="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==="x"?r:(r&0x7|0x8)).toString(16);});return u;};a.prototype.destroy=function(){if(this._oSideEffects){this._oSideEffects.destroy();}this._oSideEffects=null;};return a;},true);
